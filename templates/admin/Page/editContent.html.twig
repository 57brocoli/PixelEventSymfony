{% extends 'base.html.twig' %}

{% block title %}Edit Contenu
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{asset('assets/css/adminStyles.css')}}"/>
{% endblock %}

{% block javascripts %}
	<script src='{{asset('assets/js/ajax.js')}}' defer></script>
	<script src='{{asset('assets/js/adminScript.js')}}' defer></script>
{% endblock %}

{% block body %}
	<main class='mainType'>
		<h2 class='titre t-center'>Contenu</h2>
		<div class='d-flex a-items-center holder'>
			<div>
				{% include '_partials/btnRetour.html.twig' %}
			</div>
		</div>
		<section class='holder'>
			<section class='form-Container my-4 mx-1'>
				{{ form_start(form) }}
				<button class='showStyle buttonAjouter'>
					<p>Styles</p>
				</button>
				<section class='boxStyle mb-2'>
					<div class="frame">
						{% if new is same as(false) %}
							<div class='d-flex g-2'>
								<div class="flex mb-2">
									<h3>Liste des styles :</h3>
									<ul class='mx-2'>
										{% for style in content.styles %}
											<li>-
												{{style.property}}
												:
												{{style.value}}</li>
										{% endfor %}
									</ul>
								</div>
								<div class="flex">
									<h3>Groupe de styles :</h3>
									<ul class='mx-2'>
										{% for clas in content.class %}
											<li>-
												{{clas.name}}</li>
										{% endfor %}
									</ul>
								</div>
							</div>
						{% endif %}
						<div class='d-flex g-2 mt-1'>
							<div class='flex'>
								{{ form_row(form.styles, {'attr': {'class': 'entity style-option'} }) }}
							</div>
							<div class='flex'>
								{{ form_row(form.class, {'attr': {'class': 'entity style-option'} }) }}
							</div>
						</div>
					</div>
				</section>
				<div>
					{{ form_row(form.content) }}
				</div>
				<div class='mt-1 imgBox'>
					{% if content.images is not empty %}
						<h3 class='mb-1'>Image(s):</h3>
						<div class=" d-flex wrap">
							{% for image in content.images %}
								<div class='m-3 d-flex flex-column '>
									<img src="{{ asset('uploads/page/' ~ image.name) }}" class='imageFormSection' alt="image section">
									<a href="{{path('admin_delete_content_image', {id:image.id})}}" class='btnSupprimer' data-delete data-token="{{csrf_token('delete' ~ image.id)}}">Supprimer</a>
								</div>
							{% endfor %}
						</div>
					{% endif %}
					<div class='mt-1'>
						{{ form_row(form.images) }}
					</div>
				</div>

				{{ form_end(form) }}
			</section>
		</section>

	</main>
{% endblock %}
